\documentclass[conference]{IEEEtran}
\IEEEoverridecommandlockouts

\usepackage{cite}
\usepackage{amsmath,amssymb,amsfonts}
\usepackage{graphicx}
\usepackage{textcomp}
\usepackage{xcolor}
\usepackage{float}
\usepackage{hyperref}
\usepackage{listings}

\def\BibTeX{{\rm B\kern-.05em{\sc i\kern-.025em b}\kern-.08em
    T\kern-.1667em\lower.7ex\hbox{E}\kern-.125emX}}
\begin{document} 


\title{Design of a Simple CS Amplifier}

\author{\IEEEauthorblockN{Emmanuel Jesus R. Estallo}
\IEEEauthorblockA{\textit{Electrical and Electronics Engineering Institute} \\
\textit{University of the Philippines - Diliman}\\
Quezon City, Philippines\\
emmanuel.estallo@eee.upd.edu.ph}}

\maketitle

\section{CS Amplifier} 
\noindent The desired specs are as follows:
\begin{itemize}
	\item $|A_v|>40$ at $V_{DS}=V_{DD}/2=0.9V$
	\item Output swing: $400mV$
	\item Unity-gain frequency: $f_u=100MHz$, $C_L=5pF$
	\item $V^{*}=200mV$
\end{itemize}
\subsection{Selecting $I_D$}
The transconductance can be obtained from:
\begin{equation*}
	g_m = 2\pi f_u C_L
\end{equation*}
this gives us
\begin{equation*}
	g_m = 3.14\; mS
\end{equation*}
The current can be obtained from: 
\begin{equation*}
	V^* = 2\cdot\left( \frac{g_m}{I_D}\right)^{-1} 
\end{equation*} 
and a $V^*$ of $200\; mV$ corresponds to a $g_m/I_D$ of 10. 

\vspace{8pt}
\noindent Thus, 
\begin{equation*}
	I_D = 314\; \mu A
\end{equation*}
\subsection{Choosing the length}
To find the appropiate length, I did a DC sweep on VGS and checked if the intrinsic gain at 
$V^*$ is $> 40$.  
\begin{figure}[H]
	\centering 
	\includegraphics[width=\columnwidth]{schem.png}
	\caption{Schematic diagram}
	\label{schematic}
\end{figure}
At the minimum length, the intrinsic gain is lower than what is desired. We select $L=0.30\mu m$ since it satisfies the specifications. $L=0.25\mu m$ also meets the specifications, however, for a greater swing, the larger length is selected. 
\begin{figure}[H]
	\centering 
	\includegraphics[scale=0.40]{gmro.png}
	\caption{Intrinsic gain}
	\label{gmro}
\end{figure}
The $V^*$ vs $I_D$ plot for a transistor with $W=1\mu m$, $L=0.30 \mu m$ is shown below. 
\begin{figure}[H]
	\centering 
	\includegraphics[scale=0.38]{vstar-id.png}
	\caption{$I_D$ vs $V^*$, $W=1\mu m$}
	\label{vstar-id}
\end{figure}
\subsection{Scaling the width}
A python script is used to calculate the scale factor $k_W$ to achieve the required $I_D$. The width is multiplied to the scaling factor. This also scales $I_D$. For this activity, $k_W=21$.
To check, a MEAS directive is used. 
\begin{figure}[H]
	\centering 
	\includegraphics[width=\columnwidth]{vstar-scale-id.png}
	\caption{$I_D$ vs $V^*$, $W=21\mu m$}
	\label{vstar-scale-id}
\end{figure}


\end{document} 
